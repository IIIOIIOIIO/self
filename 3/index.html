<style>
html, body { margin: 0; padding: 0; width: 100%; height: 100%; }
</style>
<canvas></canvas>
<script>
function random(min, max) {
  if (max == null) {
    max = min;
    min = 0;
  }
  return min + Math.floor(Math.random() * (max - min + 1));
}

function randomColour() {
  return [
    'rgba(',
    random(0, 255), ',',
    random(0, 255), ',',
    random(0, 255), ',',
    (random(0, 100) / 100),
    ')'
  ].join('');
}

var canvas = document.getElementsByTagName('canvas')[0];
var ctx = canvas.getContext('2d');
var width;
var height;
var size;
var count;
var limit;
var speed;
var intvl;

function init() {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
  size = random(5, 50);
  count = 0;
  limit = random(1, 10);
  speed = random(50, 290);
  if (intvl) { clearInterval(intvl); }
  intvl = setInterval(draw, speed);
}

function draw() {
  if (++count === limit) { init(); }
  var x, y;
  for (y = 0; y < height; y += size) {
    for (x = 0; x < width; x += size) {
      ctx.fillStyle = randomColour();
      ctx.fillRect(x, y, size, size);
    }
  }
}

init();
</script>
